
# Shell

### 常用符号
|符号|含义|使用说明|
|--|--|--|
|`<`|重定向符(redirector)，输入重定向||
|`>`|重定向符(redirector)，输出重定向|`program > file`可将program的标准输出修改为file[注1]|
|`>>`|附加到文件|`program >> file`可将program的标准输出附加到file的结尾处|
|`\|`|管道符|`program1 \| program2`可将program1的标准输出修改为program2的标准输入|
|`&`|后台执行|`&`符号一般放在指令行的最后端，表示将该指令列放入后台中工作[注2]|
|`/dev/null`|位桶(bit bucket)，传送到此文件的数据都会被系统丢掉||
|`/dev/tty`|当程序打开此文件时，UNIX会自动将它重定向到一个终端||
|`0`|文件描述符[注3]，标准输入stdin|默认值为 键盘|
|`1`|文件描述符，标准输出stdout|默认值为 屏幕|
|`2`|文件描述符，标准错误输出stderr|默认值为 屏幕|

注：
1. 重定向符在目的文件不存在时，会新建一个；若目的文件已存在，它就会被覆盖掉，原本的数据都会丢失。
2. 放在几个指令中间时，表示并行，实质就是在后台并行执行，跟指令前后顺序无关。
3. 文件描述符(File Descriptor)，用一个数字（通常为0-9）来表示一个文件；

示例  
通常在执行一个命令时，如果不想打印命令执行的结果(包括正确或错误的结果信息)，则通常使用`command >/dev/null 2>&1`。  
如`tar -zvcf test1.tar.gz test1 > /dev/null 2>&1`代表将stdout导向到/dev/null，而后者代表将stderr重定向到stdout，或者说stderr的输出等同于stdout。由于stdout已经被重定向到/dev/null，那么这意味着stderr也被重定向到了这个位置。  

### 参考
1. [Shell脚本中常用的特殊符号](https://www.cnblogs.com/kevingrace/p/5896386.html)
2. [Linux Shell 1>/dev/null 2>&1 含义](https://blog.csdn.net/ithomer/article/details/9288353)

# 正则表达式(Regular Expression)
UNIX中sed和grep命令都支持正则表达式，主要用于字符串和特殊字符的匹配和处理。

### 基础字符
|符号|含义|
|--|--|
|`.`|任何单个字符(`\.`字符点)|
|`[ ]`|包含, 默认是一个字符长度|
|`^`|开始|
|`$`|结尾|
|`[^]`|不包含, 默认是一个字符长度|
|`{n,m}`|匹配长度|

前四个字符是所有语言都支持的正则表达式，所以这四个是基础的正则表达式。

基础语法 `^([]{})([]{})([]{})$`  
正则字符串 = `开始([包含内容]{长度})([包含内容]{长度})([包含内容]{长度})结束`  

示例1：  
字符串: `tel:086-0666-88810009999`  
原始正则：`^tel:[0-9]{1,3}-[0][0-9]{2,3}-[0-9]{8,11}$`    
速记理解：`开始 tel:普通文本"[0-9数字]{1至3位}"-普通文本"[0数字][0-9数字]{2至3位}"-普通文本"[0-9数字]{8至11位} 结束`

### 等价概念
正则难理解因为里面有一个等价的概念，这个概念大大增加了理解难度，让很多初学者看起来会懵，如果把等价都恢复成原始写法，自己书写正则就超级简单了，就像说话一样去写你的正则了。  
等价是等同于的意思，表示同样的功能，用不同符号来书写。
`?`,`*`,`+`,`\d`,`\w` 都是等价字符  
- `?`等价于匹配长度{0,1}
- `*`等价于匹配长度{0,}
- `+`等价于匹配长度{1,}
- `\d`等价于[0-9]
- `\D`等价于[^0-9]
- `\w`等价于[A-Za-z_0-9]
- `\W`等价于[^A-Za-z_0-9]。

示例1中等价简写后正则写法：`^tel:\d{1,3}-[0]\d{2,3}-\d{8,11}$` 。  
(简写语法不是所有语言都支持)。

### 限定符
限定符用来指定正则表达式的一个给定组件必须要出现多少次才能满足匹配。有 `*` 或 `+` 或 `?` 或 `{n}` 或 `{n,}` 或 `{n,m}` 共6种。  
|符号|含义|示例|
|--|--|--|
|`*`|匹配前面的子表达式任意次|zo* 能匹配 "z" 以及 "zoo"。`*`等价于`{0,}`|
|`+`|匹配前面的子表达式大于等于1次|'zo+' 能匹配 "zo" 以及 "zoo"，但不能匹配 "z"。`+`等价于`{1,}`|
|`?`|匹配前面的子表达式零次或一次|"do(es)?" 可以匹配 "do" 、 "does" 中的 "does" 、 "doxy" 中的 "do" 。`?`等价于`{0,1}`|
|`{n}`|n是一个非负整数。匹配确定的n次|'o{2}' 不能匹配 "Bob" 中的 'o'，但是能匹配 "food" 中的两个 o|
|`{n,}`|n是一个非负整数。至少匹配n次|'o{2,}' 不能匹配 "Bob" 中的 'o'，但能匹配 "foooood" 中的所有 o。'o{1,}' 等价于 'o+'。'o{0,}' 则等价于 'o*'|
|`{n,m}`|m和n均为非负整数，其中n<=m。最少匹配n次且最多匹配m次|"o{1,3}" 将匹配 "fooooood" 中的前三个 o。'o{0,1}' 等价于 'o?'。请注意在逗号和两个数之间不能有空格|  

示例2 (取自牛客网)
> （单选题）匹配"英文字母文件名:一个或者多个空格 行号"的正则表达式为：  
> A. `[a-Z]:+[ ]*[0-9]+`  
> B. `[a-zA-Z]:+[ ]+[0-9]*`  
> C. `[a-zA-Z]+:[ ]+[0-9]+`  
> D. `[a-Z]+:[ ]+[0-9]*`  

根据题目意思是出现一个或多个，排除带 * 的，因此选择C。

### 参考
1. [牛客网：2019华为网络精英挑战赛初赛模拟题_基础开发C 方向](https://www.nowcoder.com/test/16071682/summary)
