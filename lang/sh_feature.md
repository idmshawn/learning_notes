
# Shell


# 正则表达式(Regular Expression)
UNIX中sed和grep命令都支持正则表达式，主要用于字符串和特殊字符的匹配和处理。

### 基础字符
|符号|含义|
|--|--|
|`.`|任何单个字符(`\.`字符点)|
|`[ ]`|包含, 默认是一个字符长度|
|`^`|开始|
|`$`|结尾|
|`[^]`|不包含, 默认是一个字符长度|
|`{n,m}`|匹配长度|

前四个字符是所有语言都支持的正则表达式，所以这四个是基础的正则表达式。

基础语法 `^([]{})([]{})([]{})$`  
正则字符串 = `开始([包含内容]{长度})([包含内容]{长度})([包含内容]{长度})结束`  

示例1：  
字符串: `tel:086-0666-88810009999`  
原始正则：`^tel:[0-9]{1,3}-[0][0-9]{2,3}-[0-9]{8,11}$`    
速记理解：`开始 tel:普通文本"[0-9数字]{1至3位}"-普通文本"[0数字][0-9数字]{2至3位}"-普通文本"[0-9数字]{8至11位} 结束`

### 等价概念
正则难理解因为里面有一个等价的概念，这个概念大大增加了理解难度，让很多初学者看起来会懵，如果把等价都恢复成原始写法，自己书写正则就超级简单了，就像说话一样去写你的正则了。  
等价是等同于的意思，表示同样的功能，用不同符号来书写。
`?`,`*`,`+`,`\d`,`\w` 都是等价字符  
- `?`等价于匹配长度{0,1}
- `*`等价于匹配长度{0,}
- `+`等价于匹配长度{1,}
- `\d`等价于[0-9]
- `\D`等价于[^0-9]
- `\w`等价于[A-Za-z_0-9]
- `\W`等价于[^A-Za-z_0-9]。

示例1中等价简写后正则写法：`^tel:\d{1,3}-[0]\d{2,3}-\d{8,11}$` 。  
(简写语法不是所有语言都支持)。

### 限定符
限定符用来指定正则表达式的一个给定组件必须要出现多少次才能满足匹配。有 `*` 或 `+` 或 `?` 或 `{n}` 或 `{n,}` 或 `{n,m}` 共6种。  
|符号|含义|示例|
|--|--|--|
|`*`|匹配前面的子表达式任意次|zo* 能匹配 "z" 以及 "zoo"。`*`等价于`{0,}`|
|`+`|匹配前面的子表达式大于等于1次|'zo+' 能匹配 "zo" 以及 "zoo"，但不能匹配 "z"。`+`等价于`{1,}`|
|`?`|匹配前面的子表达式零次或一次|"do(es)?" 可以匹配 "do" 、 "does" 中的 "does" 、 "doxy" 中的 "do" 。`?`等价于`{0,1}`|
|`{n}`|n是一个非负整数。匹配确定的n次|'o{2}' 不能匹配 "Bob" 中的 'o'，但是能匹配 "food" 中的两个 o|
|`{n,}`|n是一个非负整数。至少匹配n次|'o{2,}' 不能匹配 "Bob" 中的 'o'，但能匹配 "foooood" 中的所有 o。'o{1,}' 等价于 'o+'。'o{0,}' 则等价于 'o*'|
|`{n,m}`|m和n均为非负整数，其中n<=m。最少匹配n次且最多匹配m次|"o{1,3}" 将匹配 "fooooood" 中的前三个 o。'o{0,1}' 等价于 'o?'。请注意在逗号和两个数之间不能有空格|  

示例2 (取自牛客网)
> （单选题）匹配"英文字母文件名:一个或者多个空格 行号"的正则表达式为：  
> A. `[a-Z]:+[ ]*[0-9]+`  
> B. `[a-zA-Z]:+[ ]+[0-9]*`  
> C. `[a-zA-Z]+:[ ]+[0-9]+`  
> D. `[a-Z]+:[ ]+[0-9]*`  

根据题目意思是出现一个或多个，排除带 * 的，因此选择C。

### 参考
1. [牛客网：2019华为网络精英挑战赛初赛模拟题_基础开发C 方向](https://www.nowcoder.com/test/16071682/summary)
